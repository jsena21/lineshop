{% extends 'base.html.twig' %}

{% block title %}Panier
{% endblock %}

{% block body %}
<style>

</style>

<div class="example-wrapper">
<h1>Panier</h1>

{% if panier|length > 0 %}
<table>
<thead>
<tr>
<th>Nom</th>
<th>Quantité</th>
<th>Prix Unitaire</th>
<th>Prix Total</th>
<th>Actions</th>
</tr>
</thead>
<tbody>
{% for id, article in panier %}
<tr>
<td>{{ article.nom }}</td>
<td>{{ article.quantite }}</td>
<td>{{ article.prix }}
€</td>
<td>{{ article.prix * article.quantite }}
€</td>
<td class="actions">
<form action="{{ path('app_panier_add') }}" method="post" style="display:inline;">
<input type="hidden" name="id" value="{{ article.id }}">
<input type="hidden" name="nom" value="{{ article.nom }}">
<input type="hidden" name="prix" value="{{ article.prix }}">
<button type="submit">Ajouter</button>
</form>
<form action="{{ path('app_panier_delete_one') }}" method="post" style="display:inline;">
<input type="hidden" name="id" value="{{ article.id }}">
<input type="hidden" name="nom" value="{{ article.nom }}">
<input type="hidden" name="prix" value="{{ article.prix }}">
<button type="submit">Supprimer une unité</button>
</form>
<form action="{{ path('app_panier_delete') }}" method="post" style="display:inline;">
<input type="hidden" name="id" value="{{ article.id }}">
<input type="hidden" name="nom" value="{{ article.nom }}">
<input type="hidden" name="prix" value="{{ article.prix }}">
<button type="submit">Supprimer</button>
</form>
</td>
</tr>
{% endfor %}
</tbody>
</table>
<form action="{{ path('app_panier_clear') }}" method="post">
<button type="submit">Vider le panier</button>
</form>
{% else %}
<p>Votre panier est vide.</p>
{% endif %}

</div>
{% endblock %}